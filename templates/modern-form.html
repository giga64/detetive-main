<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ” DETETIVE - Busca</title>
    <link rel="stylesheet" href="{{ url_for('static', path='modern-style.css') }}">
    <style>
        :root {
            --primary: #06b6d4;
            --primary-hover: #0ea5a4;
            --background: linear-gradient(135deg, #000814 0%, #0a0f1f 50%, #000814 100%);
            --foreground: #e2e8f0;
            --card: rgba(15, 23, 42, 0.7);
            --input: rgba(30, 41, 59, 0.8);
            --border: rgba(6, 182, 212, 0.4);
            --ring: #06b6d4;
        }
    </style>
</head>
<body style="background: linear-gradient(135deg, #000814 0%, #0a0f1f 50%, #000814 100%); margin: 0; padding: 0; font-family: 'Inter', sans-serif;">
    <div class="detective-container">
        <div class="form-top-actions">
            <button class="theme-toggle" id="theme-btn" onclick="toggleTheme()">
                <span id="theme-icon">ğŸŒ™</span>
            </button>
        </div>

        <div class="detective-card">
            <div class="detective-header">
                <div class="icon">ğŸ”</div>
                <h1>OPERAÃ‡ÃƒO SCAN</h1>
                <p class="subtitle">Digite o identificador para investigar</p>
            </div>

            <form id="consulta-form" method="POST" action="/consulta" class="investigation-form">
                <div class="form-group">
                    <input 
                        id="identificador"
                        class="form-input" 
                        type="text" 
                        name="identificador" 
                        placeholder="CPF, CNPJ, PLACA ou NOME" 
                        required
                        autocomplete="off"
                    >
                </div>

                <div class="form-group">
                    <select class="form-input" name="tipo" style="appearance: none; cursor: pointer; padding-right: 30px;">
                        <option value="auto">ğŸ” Auto-detectar</option>
                        <option value="cpf">ğŸ‘¤ CPF</option>
                        <option value="cnpj">ğŸ¢ CNPJ</option>
                        <option value="placa">ğŸš— PLACA</option>
                        <option value="nome">ğŸ“ NOME</option>
                    </select>
                </div>

                {% if erro %}
                <p class="error-message">âš ï¸ {{ erro }}</p>
                {% endif %}

                <button type="submit" class="submit-button">ğŸš€ ESCANEAR</button>
            </form>

            <div class="history-button-container">
                <a href="/historico" class="history-link">ğŸ“‹ VER HISTÃ“RICO</a>
            </div>

            {% if session.get('is_admin') %}
            <div class="history-button-container">
                <a href="/usuarios" class="history-link">ğŸ‘¥ GERENCIAR AGENTES</a>
            </div>
            {% endif %}

            <div class="history-button-container">
                <a href="/logout" class="history-link">ğŸšª SAIR</a>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', path='detective.js') }}"></script>
</body>
</html>
